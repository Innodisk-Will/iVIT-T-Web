<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Load our component. -->
        <!-- <link href="css/model.css" rel="stylesheet" /> -->
        <!-- <link href="css/container.css" rel="stylesheet" /> -->
    </head>
    <body>
        <Maindiv id="main_div" class="outside_1_container">
            <div class="left_iter_container">
                <div class="left_iter_center_container">
                    <div class="expand_icon_container">
                        <span id="expand_less" class="material-symbols-outlined expand_icon_css" onclick="expand_btn('less')">
                            expand_less
                        </span>
                    </div>
                    <div id="iter_container" class="iter_btn_outside_container">
                    </div>
                    <div class="expand_icon_container">
                        <span id="expand_more" class="material-symbols-outlined expand_icon_css" onclick="expand_btn('more')">
                            expand_more
                        </span>
                    </div>
                </div>
                <div>
                </div>
            </div>
            <div class="outside_content_container">
                <div class="content_container">
                    <div class="title_container">
                        <div class="small_title_container">
                            <a id="allproject" class="a_herf_no_line small_title" href="">All Project</a>
                            <label class="small_title"> / </label>
                            <label id="prjname_label" class="text-capitalize small_title"></label>        
                        </div>
                        <div class="md_main_continer">
                            <div class="md_title_container">
                                <div class="md_text">Model</div>
                            </div>
                            <div id="right_btn_container" class="md_right_btn_container">
                                <input id="export_btn" type="button" class="all_button" value="Export" disabled="disabled" onclick="open_export_mkpopup()">
                            </div>
                        </div>
                    </div>
                    <div class="graph_container">
                        <div class="gallery_container">
                            <div id="metrics_container" class="metrics_container">
                                <div class="metrics_single_container">
                                    <div class="metrics_text">Percision</div>
                                    <div class="metrics_piechart_container">
                                        <div id="percision_percentage" class="metrics_percentage">99%</div>
                                        <canvas id="percision_piechart" width="70" height="70" class="chart"></canvas>
                                    </div>                                    
                                </div>
                                <div class="metrics_single_container">
                                    <div class="metrics_text">Recall</div>
                                    <div class="metrics_piechart_container">
                                        <div id="recall_percentage" class="metrics_percentage">99%</div>
                                        <canvas id="recall_piechart" width="70" height="70"  class="chart"></canvas>
                                    </div>
                                </div>
                                <div class="metrics_single_container">
                                    <div id="other_name" class="metrics_text text-capitalize">F1_score</div>
                                    <div class="metrics_piechart_container">
                                        <div id="other_percentage" class="metrics_percentage">99%</div>
                                        <canvas id="other_piechart"  width="70" height="70" class="chart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div id="train_data_container" class="train_data_container">
                                <div class="train_container curve_container">
                                    <div class="train_txt_container">
                                        <div class="train_txt">Data_visualize</div>
                                    </div>
                                    <div class="train_curve_container">
                                        <div class="train_val_btn_container">
                                            <div id="train_curve_btn" class="train_val_btn" style="background: 0% 0% no-repeat padding-box padding-box rgb(230, 31, 35);" onclick="switch_btn_curve('train')">
                                                <div class="train_val_text" style="color:#FFF">train</div>
                                            </div>
                                            <div id="val_curve_btn" class="train_val_btn" onclick="switch_btn_curve('val')">
                                                <div class="train_val_text">val</div>
                                            </div>
                                        </div>
                                        <div id="train_curve_container" class="train_val_curve">
                                            <canvas id="train_curve"></canvas>
                                        </div>
                                        <div id="val_curve_container" class="train_val_curve" style="display:none;">
                                            <canvas id="val_curve"></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="train_container">
                                    <div class="train_txt_container">
                                        <div class="train_txt">Log</div>
                                    </div>
                                    <div id="log_container" class="train_log_container">
                                    </div>
                                </div>
                            </div>
                            <div id="info_container" class="model_info_container">
                                <div class="train_container curve_container">
                                    <div class="train_txt_container">
                                        <div class="train_txt">Information</div>
                                    </div>
                                    <div class="info_param_container">
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Type</div>
                                            <div id="type_val" class="info_param_val text-truncate text-capitalize"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Platform</div>
                                            <div id="platform_val" class="info_param_val text-truncate text-capitalize"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Dataset count</div>
                                            <div id="dataset_val" class="info_param_val"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Method of training</div>
                                            <div id="method_val" class="info_param_val text-truncate text-capitalize"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div id="time_text" class="info_param_text">Spend time</div>
                                            <div id="time_val" class="info_param_val"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="train_container">
                                    <div class="train_txt_container">
                                        <div class="train_txt">Parameter</div>
                                    </div>
                                    <div class="info_param_container">
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Model</div>
                                            <div id="model_val" class="info_param_val text-truncate text-capitalize"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">GPU</div>
                                            <div id="gpu_val" class="info_param_val text-truncate"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Input shape</div>
                                            <div id="input_shape_val" class="info_param_val"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Batch size</div>
                                            <div id="batchsize_val" class="info_param_val"></div>
                                        </div>
                                        <div class="info_param_text_container">
                                            <div class="info_param_text">Step</div>
                                            <div id="step_val" class="info_param_val"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="evaluate_container" class="display_container evaluate_container" style="display: none;">
                            <div class="eval_text_container eval_btn_position">
                                <div class="eval_text">Evaluate</div>
                                <label id="btnupload_file_1" class="all_button margin_right_24" style="display: none;">
                                    Upload
                                    <input id="eval_chose_file_1" type="file" style="display: none;" multiple="" accept="image/*">
                                </label>
                            </div>
                            <div id="evalimage_outside_container" class="evalimage_outside_container">
                                <div class="eval_upload_container">
                                    <label id="btnupload_file_2" class="all_button">
                                        Upload
                                        <input id="eval_chose_file_2" type="file" style="display: none;" multiple="" accept="image/*" disabled="disabled">
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </Maindiv>
        <Labeldiv id="label_div" style="display: none;" class="setting_center">
        </Labeldiv>
        <!-- Export -->
        <Export>
            <div id="export_mkpopup" class="mkpopup">
                <!-- Modal content -->
                <div id ="export_containter" class="mkpopup_content_outside mkpopup_content_container" style="position: relative;">
                    <div class="mkpopup_main_container">
                        <div class="mkpopup_title_container">
                            <label class="mkpopup_text">Export</label>
                        </div>
                        <div class="mkpopup_form_container">
                            <form method="post" name="form_project"  action="#">
                                <div class="form_item_position">
                                    <lable class="form_item_font">Export Paltform</lable>
                                </div>
                                <div class="margin_bottom_20">
                                    <select id="ep_list"  class="form_obj_style text-capitalize"></select>
                                </div>
                                <div id="url_name" class="form_item_position" style="display: none;">
                                    <lable class="form_item_font">Url</lable>
                                </div>
                                <div id="url_val" class="margin_bottom_20" style="display: none;">
                                    <div id="share_api"  class="form_obj_style export_share_url_container" >URL</div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div id="export_btn_div" class="mkpopup_btn_container">
                        <button id="cancel_btn" type="button" class="form_cancel_btn_style margin_right_12" onclick="close_export_mkpopup()">Cancel</button>
                        <button id="export_convert_btn" type="button" class="form_button_style" onclick="start_export()">Export</button>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </Export>
    </body>
    <!-- Initial -->
    <script language="JavaScript">
        var HREF = window.location.href.split("&");
        var MAIN_PAGE = HREF[0].split("?")[1];
        var MAIN_UUID = HREF[1];
        var PRJ_NAME = HREF[2];
        var TYPE_NAME = HREF[3];
        var ITER_NAME = HREF[4];
        var MAIN_HREF = HREF[0] + "&" + HREF[1] + "&" + HREF[2]+ "&" + HREF[3];
        var FOlDER_LIST = "";
        var PRJ_INFO = "";
        var METRICS_CHART = false;
        var TRAIN_CURVE_CHART = false;
        var VAL_CURVE_CHART = false;
        var EVAL_IMG_LIST = {};
        var EVAL_RESULT = {};
        var FILTER_RESULT = [];
        var IMAGE_SIZE = {};
        var COLOR_BAR = null;
        const socket = io.connect(`${SCRIPT_ROOT}/${MAIN_UUID}/log`);
        $( document ).ready(function() {
            hover_marquee("prj_name");
            load_exist_iter(MAIN_UUID);
            give_title_text("allproject", "prjname_label", PRJ_NAME);
            PRJ_INFO = get_uuid_prj_info(MAIN_UUID);
            init_model();
            check_training_stats();
            socket_log();
            socket_graph();
            socket_remaining_time();
            socket_spend_time();
            listen_socket_log();
            eval_listen();
        });
    </script>
</html>